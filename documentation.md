<!-- Generated by documentation.js. Update this documentation by updating the source code. -->


## Installation &nbsp;
**With [node](http://nodejs.org) [installed](http://nodejs.org/en/download):**
```sh   
# Get the latest stable release of pi-utils
$ npm install --save pi-utils 
```   

## Examples
```sh
var utils = require('pi-utils');

# Connect to a wifi network
> utils.wifi.connect('grojo', 'IndoorGardening123!').then(result => {
>     if(result) console.log('Connected!');
> });
Promise { <pending> }
> Connected!

# Get wlan IP address
> utils.wifi.getLocalIP();
'192.168.1.248'
```

```sh
> var utils = require('pi-utils');

# Get Raspberry Pi Board Info
> utils.system.hardwareRevision();
{ code: 'a22082', name: 'Pi 3 Model B Rev. 1.2 1GB (Embest)' }

# Turn off attached LCD display
> utils.system.displayState(false); 

# Get CPU Temp (celsius) 
> utils.system.cpuTemp();
41.856
```

```sh
> var utils = require('pi-utils');

# Get Disk Stats
> utils.perf.diskStats();
{ total: 7364, used: 1999, free: 5037 }

```

```sh
> var utils = require('pi-utils');

# Get GPIO status using rpio
> utils.rpio.open(11, utils.rpio.INPUT);
> console.log('Pin 11 is currently set ' + (utils.rpio.read(11) ? 'high' : 'low'));
Pin 11 is currently set low
```

### Table of Contents

#WiFi Utilities (utils.wifi)

-   [scanNetworks](#scannetworks)
-   [setCreds](#setcreds)
-   [stopInterface](#stopinterface)
-   [startInterface](#startinterface)
-   [dhcpRenew](#dhcprenew)
-   [connect](#connect)
-   [getCurrentNetwork](#getcurrentnetwork)
-   [parseIwlist](#parseiwlist)
-   [getLocalIP](#getlocalip)
-   [getExternalIP](#getexternalip)
-   [getMacAddress](#getmacaddress)
-   [isConnected](#isconnected)
-   [isOnline](#isonline)

#System / Board Utilities (utils.system)

-   [cpuTemp](#cputemp)
-   [gpuTemp](#gputemp)
-   [vcc](#vcc)
-   [uptime](#uptime)
-   [serial](#serial)
-   [machineId](#machineid)
-   [hostname](#hostname)
-   [hardwareRevision](#hardwarerevision)
-   [cameraInfo](#camerainfo)
-   [memoryConfig](#memoryconfig)
-   [configData](#configdata)
-   [kernel](#kernel)
-   [firmware](#firmware)
-   [clockSpeed](#clockspeed)
-   [displayState](#displaystate)

#Performance Data (utils.perf)

-   [loadAverage](#loadaverage)
-   [totalMemory](#totalmemory)
-   [freeMemory](#freememory)
-   [diskStats](#diskstats)


## scanNetworks

Scan for available wifi networks

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns an array of network if resolved,
or an Error if rejected.

## setCreds

Set credentials for wifi network

**Parameters**

-   `ssid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** SSID of the network to connect to
-   `psk` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** PSK/passphrase of the network

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** returns true if no errors

## stopInterface

Stop wlan adapter

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## startInterface

Start wlan adapter

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## dhcpRenew

Renew the dhcp lease

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## connect

Connect to the network. Attempts to:

1) Set WiFi credentials
2) Stop Interface
3) Start Interface (with retries)
4) Renew DHCP Lease

**Parameters**

-   `ssid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Network SSID
-   `psk` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Network PSK/Passphrase

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## getCurrentNetwork

Get SSID of current connected network (if available)

**Parameters**

-   `callback` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** called after exec

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## parseIwlist

Parses the output of the iwlist scan

**Parameters**

-   `output` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Raw results from iwlist
-   `currentNetwork` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** SSID of currently connected network

Returns **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** of parsed network data objects from scan

## getLocalIP

Get IP address of wireless adapter

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** ip address or empty

## getExternalIP

Get External IP address of this network

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns external IP if resolved,
or an Error if rejected.

## getMacAddress

Get MAC address of wireless adapter

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** mac address

## isConnected

Get local IP to determine if we are connected to router

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

## isOnline

Use 'is-online' lib to determine if we have Internet connectivity

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean), [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** A promise that returns true if resolved,
or an Error if rejected.

## cpuTemp

Get CPU temp

**Parameters**

-   `fahrenheit` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** return in Fahrenheit

Returns **float** 

## gpuTemp

Get GPU temp

**Parameters**

-   `fahrenheit` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** return in Fahrenheit

Returns **float** 

## vcc

Get System Voltages

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## uptime

Get System Uptime

Returns **integer** 

## serial

Get Serial Number

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## machineId

Get Machine Id

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## hostname

Get hostname

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## hardwareRevision

Get Hardware Revision

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## cameraInfo

Get Camera information (supported and detected)

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## memoryConfig

Get configured memory split info (between ARM and GPU)

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## configData

Get various config settings from vcgencmd

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## kernel

Get kernel version

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## firmware

Get GPU firmware version

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## clockSpeed

Get ARM, Core, UART clock speeds

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## displayState

Turn on/off official LCD (may work for other displays, not tested

**Parameters**

-   `enable` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** turn on (true), or off (false)


## loadAverage

Get CPU load average

Returns **float** 

## totalMemory

Get total memory available to OS

Returns **float** 

## freeMemory

Get free memory

Returns **float** 

## diskStats

Get total/free space on root mount

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** of float, values in MB

